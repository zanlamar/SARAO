<div class="calendar-wrapper">
    <main class="calendar-container">
        <div class="calendar-content">

            <!-- GRID PRINCIPAL: 2 COLUMNAS -->
            <div class="calendar-grid">
                <div class="events-column">
                
                    <!-- Header -->
                    <div class="events-header">
                        <h1 class="events-title">Your saraos</h1>
                        <p class="events-subtitle">Stay on top of your schedule</p>
                        
                        <!-- Botones UPCOMING / HOSTING -->
                        <div class="filter-buttons">
                        <button class="filter-btn active">Upcoming</button>
                        <button class="filter-btn">Hosting</button>
                        </div>
                    </div>
                    
                    <app-events-list
                        [events$]="selectedDateEvents$"
                        (eventClicked)="onEventClicked($event)"
                        [selectedDate$]="selectedDate$"
                    ></app-events-list>
                </div>
                
                <div class="calendar-column">
                    <app-calendar-grid
                        [calendarDays$]="calendarDays$"
                        [selectedDate$]="selectedDate$"
                        [currentMonth]="currentMonth$()"
                        [currentYear]="currentYear$()"
                        [userEvents$]="userEvents$"
                        (daySelected)="onDaySelected($event)"
                        (nextMonthClicked)="onNextMonth()"
                        (previousMonthClicked)="onPreviousMonth()"
                    ></app-calendar-grid>
                </div>
            </div>
            
            <!-- Grid calendario -->
            <div class="calendar-grid-container">
                
                <!-- Encabezado: días de la semana -->
                <div class="calendar-weekdays">
                    <div class="calendar-weekday">Mon</div>
                    <div class="calendar-weekday">Tue</div>
                    <div class="calendar-weekday">Wed</div>
                    <div class="calendar-weekday">Thu</div>
                    <div class="calendar-weekday">Fri</div>
                    <div class="calendar-weekday">Sat</div>
                    <div class="calendar-weekday">Sun</div>
                </div>
                
                <!-- Grid de días -->
                <div class="calendar-days">
                @for (day of calendarDays; track day.dateString) {
                    <div 
                    (click)="onDayClick(day)"
                    [class.other-month]="!day.isCurrentMonth"
                    [class.today]="day.isToday"
                    class="calendar-day"
                    >
                    <!-- Número del día -->
                    <div class="day-number">{{ day.day }}</div>
                    
                    <!-- Puntos de eventos -->
                    @if (day.isCurrentMonth) {
                        <div class="day-events">
                        @for (event of getEventsForDay(day.dateString); track event.id; let last = $last) {
                            @if (!last) {
                            <span class="day-event-dot"></span>
                            }
                        }
                        </div>
                    }
                    </div>
                }
                </div>
            </div>
            </div>
        </div>
        </div>
    </main>
    <app-footer></app-footer>
</div>