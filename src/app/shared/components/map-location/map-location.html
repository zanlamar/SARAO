<div class="map-location-container">

    <div class="search-section">
        <div class="label-with-confirmation">
        <label for="addressInput">Location address</label>
            @if (confirmedLocation()) {
                <span class="confirmed-badge"> ✓ {{ confirmedLocation() }}</span>
            }
        </div>

        <div class="search-input-wrapper">
            <input 
                id="addressInput"
                type="text"
                placeholder="Search address here"
                [formControl]="addressInput"
                (keydown.enter)="searchAddress(addressInput.value || '')"
                class="address-input"
            />
            <button 
                type="button"
                (click)="searchAddress(addressInput.value || '')"
                [disabled]="isLoading() || !addressInput.value"
                class="search-button">
                Search
            </button>
            @if (isLoading()) {
                <span class="loading-indicator">Searching...</span>
            }
        </div>
    </div>

    <div class="map-wrapper">
        <div id="map-container" class="map-container"></div>
    </div>

    @if (selectedLocation()) {
    <div class="location-info">
        <div class="info-header">
            <h3>Selected location</h3>
        </div>
        <div class="info-content">
            <p>{{ selectedLocation()?.displayName }}</p>
        </div>
        <button 
            class="confirm-button"
            (click)="confirmLocation()"
            [disabled]="isLoading()">
            Confirm Location
        </button>
    </div>
    }

    @if (errorMessage()) {
    <div class="error-message">
        ❌ {{ errorMessage() }}
    </div>
    }

</div>